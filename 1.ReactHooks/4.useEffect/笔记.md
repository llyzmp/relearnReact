# useEffect

1. useEffect执行时机
> 可以把useEffect看做componentDidMount, componentDidUpdate, componentWillUnmount 这三个函数的组合

```js
useEffect(() => {})   => componentDidMount, componentDidUpdate
useEffect(() => {},[])   => componentDidMount
useEffect(() => () => {})   => componentDidUpdate

```


```js
import React, {useState, useEffect} from 'react'
import ReactDOM from 'react-dom'

function App() {
  const [count, setCount] = useState(0)
  // // 组件挂载完成之后执行,组件数据更新完成之后执行
  // useEffect(()=>{
  //   console.log("1231231")
  // })

  // 组件挂载完成之后执行
  useEffect(()=>{
    console.log('222222)
  }, [])

  // 组件被卸载之前执行
  useEffect(() => {
    return () => {
      console.log('组件被卸载了')
    }
  })
  return (
    <div>
      <span> { count }</span>
      <button onClick={()= setCount(count + 1)}> </button>
      <button onClick={()=> ReactDOM.unmountComponentAtNode(节点)}>卸载组件 </button>
    </div>
  )
}

```

2. useEffect使用方法
  - 为window对象添加滚动事件
  - 设置定时器让count数值每隔一秒增加1
